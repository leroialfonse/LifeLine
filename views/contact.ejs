<%- include('partials/header') -%>

<!--/////////////////////// cyclic launch is successful!! Get the calendar figured out, fix contact page. Then youre there!! /////////////////////////////////////-->


<div class="container">

  <!-- Button trigger modal -->


<!-- Modal -->
<div class="modal fade" id="exampleModalCenter" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLongTitle">Modal title</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        ...
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary">Save changes</button>
      </div>
    </div>
  </div>
</div>


  <div class="row mt-5">
      <div class="col-6">

        <!-- form in a card to include an image, for asthetics. -->
        <div class="card">
          <div class="card-body">
            <h2 class="card-title">Add a New Doctor</h2>
            <form action="/contact/createContact"  method="POST">
              <div class="mb-3">
                  <label for="title" class="form-label">Doctor Name</label>
                  <input type="text" class="form-control" id="title" name="title">
              </div>
              <div class="mb-3">
                <label for="address" class="form-label">Address</label>
                <input type="text" class="form-control" id="address" name="address">
            </div>
            <div class="mb-3">
              <label for="phone" class="form-label">Phone Number</label>
              <input type="text" class="form-control" id="phone" name="phone">
          <!-- </div> -->

          <button type="submit" class="btn btn-primary" value="submit">Submit</button>
        </form> <br>

        <br>
        <p class="card-text">Use this form to add your doctors to your contacts list.</p>
            
            <!-- Use some date() object to give a last added line.  -->
            <!-- <p class="card-text"><small class="text-muted">Last updated 3 mins ago</small></p> -->
          </div>
          <img src="imgs/SmileDoc3.jpg" class="card-img-bottom" alt="card-img-bottom">
        </div>


          <!-- <div class="mt-5"> -->
            <!-- <h2>Add a New Doctor</h2>
            <form action="/contact/createContact"  method="POST">
              <div class="mb-3">
                  <label for="title" class="form-label">Doctor Name</label>
                  <input type="text" class="form-control" id="title" name="title">
              </div>
              <div class="mb-3">
                <label for="address" class="form-label">Address</label>
                <input type="text" class="form-control" id="address" name="address">
            </div>
            <div class="mb-3">
              <label for="phone" class="form-label">Phone Number</label>
              <input type="text" class="form-control" id="phone" name="phone"> -->
          <!-- </div> -->
          <!-- <button type="submit" class="btn btn-primary" value="submit">Submit</button> -->
        <!-- </form> -->
      </div>

    </div>
    <div class="col-6">
      <label for="ul"><h2>Your Doctors</h2></label>
        <ul class="row list-unstyled">
          <% if (contacts.length === 0) { %>
            <p> No doctors in your contacts. Please add one to save their information.</p>
            <%} else { %>
             <% } %> 
            
          <% contacts.forEach( el => { %>  
            <li class="col-6 justify-content-between mt-5 doctors" data-id='<%el._id%>'>
                    <p>Name:<span> <%= el.title %></span></p>
                    <p>Address:<span> <%= el.address %></span></p>
                    <p>Phone:<span> <%= el.phone %></span></p>                  
                   <form
                      action="/contact/deleteContact/<%= el._id %>?_method=DELETE"
                      method="POST"
                      class="col-3"
                    >
                    <button class="btn btn-primary fa fa-trash" type="submit"></button>
                    </form>
                    <span><form action="/contact/editContact/<%= el._id %>" method="GET"
                      class="col-3"></form>
                    <button class="btn btn-secondary fa fa-edit" type="submit"></button></span>
                  <!-- Toying with the idea of using a modal popup to edit entries. Refer to my MedMinder for edits and searches. -->
                    <!-- <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModalCenter">
                      Launch demo modal / future edit button.
                    </button> -->
                </li>
                <% }) %>
                
                </ul>

                  </div>
               </div>
              </div>
            </div>
          </div>
<%- include('partials/footer') -%>
